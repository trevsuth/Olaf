"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4094],{14094:function(e,t,a){a.d(t,{FB:function(){return eT},ZP:function(){return eB},wS:function(){return eN}});var n,o,r=a(22830),s=a(35250),i=a(87758),c=a(70079),l=a(88798),d=a(21739),u=a(32542),g=a(77010),h=a(6948),f=a(32877),p=a(31621),m=a(46020),x=a(54118),y=a(78931),v=a(61888),b=a(70671),k=a(94968),w=a(52390),j=a(21722),C=a(39324),M=a(71209),T=a(75883),N=a(12155),B=a(60554),_=a(1454),S=a(32004),A=a(97747),P=a(89368);function Z(){var e=(0,w.Go)(),t=(0,B.useRouter)(),a=(0,b.Z)();return null!==e?(0,s.jsx)(P.Z,{isOpen:!0,onClose:v.noop,type:"warning",size:"custom",className:"max-w-3xl",title:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-lg",children:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},I.title),{values:{workspaceName:e.accountName}}))}),(0,s.jsx)("div",{className:"text-sm font-normal",children:(0,s.jsx)(S.Z,(0,C._)({},I.subtitle))})]}),icon:_.UIZ,primaryButton:(0,s.jsx)(A.ZP.Button,{onClick:(0,j._)(function(){var e;return(0,T.Jh)(this,function(a){switch(a.label){case 0:return[4,(0,N.signOut)({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(t.asPath))})];case 1:return e=a.sent(),t.push(e.url),[2]}})}),title:a.formatMessage(I.signInButton)}),children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},I.emailBelongsToWorkspace),{values:{email:(0,s.jsx)("span",{className:"font-medium",children:e.userEmail})}}))}),(0,s.jsx)("div",{children:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},I.contactWorkspaceAdminEmail),{values:{email:(0,s.jsx)("span",{className:"font-medium",children:e.ownerEmail})}}))})]})}):null}var I={title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}",description:"Title for request access modal for a workspace"},subtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace",description:"Subtitle for request access modal mentioning ChatGPT Enterprise"},emailBelongsToWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access.",description:"Message shown telling the user their email is part of an enterprise workspace."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Contact your workspace administrator at {email} to request access to a new workspace account.",description:"Message telling the user who to contact to create a new account for the workspace."},signInButton:{id:"RequestWorkspaceAccessModal.signInButton",defaultMessage:"Return to sign in",description:"Label for sign in button on modal"}},E=a(25260),W=a(19841),L=a(91530),D=a.n(L),U=a(19579),O=a.n(U),R=a(62509),G=a(75641),K=a(88809),H=a(6038),q=a(88327),z=a(1821),F=a(32367),Q=a(52696);function J(e){var t=e.workspace,a=(0,R.kP)().session,n=(0,y.ec)(function(e){return e.currentWorkspace}),o=(null==n?void 0:n.id)===t.id,i=(0,r._)((0,c.useState)(!1),2),l=i[0],d=i[1],u=(0,F.Z)().onEnableHistory,g=(0,c.useCallback)((0,j._)(function(){return(0,T.Jh)(this,function(e){return d(!0),y.w_.setCurrentWorkspace(t),u(),(0,K.M)(),[2]})}),[t,u]),h=(0,Q.GA)(t),f=(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(H.B0,{})});if(t.structure===G.CZ.PERSONAL){if(!(null==a?void 0:a.user))return null;f=(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(O(),{alt:"Profile",src:a.user.picture,width:38,height:38,className:"flex items-center justify-center rounded-sm"})})}return(0,s.jsxs)(o?"div":"button",{onClick:o?D():g,className:(0,W.default)({"flex w-full items-center gap-2 rounded-lg border border-gray-100 bg-gray-50 p-4 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:bg-gray-700":!0,"bg-gray-50 dark:bg-gray-800":o}),children:[(0,s.jsxs)("div",{className:"flex w-full items-center gap-4",children:[f,(0,s.jsx)("div",{className:"inline align-top font-medium",children:h})]}),(0,s.jsx)("div",{className:"flex h-full items-center p-1",children:l?(0,s.jsx)(z.Z,{}):o?(0,s.jsx)(q.ZP,{icon:E.Z,size:"medium"}):(0,s.jsx)(q.ZP,{icon:_.Tfp,size:"medium",className:"my-auto"})})]})}function X(e){var t=e.data.map(function(e){return(0,s.jsx)(J,{workspace:e},e.id)});return(0,s.jsx)("div",{className:"flex w-full flex-col gap-2",children:t})}function $(){var e,t,a=(0,Q._O)(),n=(0,R.kP)().session,o=null!==(t=null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.email)&&void 0!==t?t:"";if(0===a.length)return null;var r=a.filter(function(e){return e.structure===G.CZ.WORKSPACE});return(0,s.jsx)(P.Z,{isOpen:!0,onClose:D(),type:"success",size:"normal",title:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(S.Z,(0,C._)({},Y.workspaceSwitcherTitle)),(0,s.jsx)("span",{className:"mt-0.5 text-sm text-gray-700 dark:text-gray-400",children:o})]}),children:(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-between",children:[(0,s.jsx)(X,{data:a}),(0,s.jsx)("span",{className:"mt-4 text-sm text-gray-700 dark:text-gray-400",children:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},Y.workspaceSwitcherDisclaimer),{values:{workspaces:(0,s.jsx)("span",{className:"contents font-bold",children:(0,s.jsx)(k.yX,{value:r.map(function(e){return e.name})})}),numWorkspaces:r.length}}))})]})})}var Y=(0,k.vU)({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace",description:"title for account switcher modal"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time.",description:"disclaimer for account switcher modal"}}),V=a(50795),ee=a(82081),et=(0,k.vU)({welcomeBack:{id:"existingUserAgeConfirmationModal.welcomeBack",defaultMessage:"Welcome back, Italy!",description:"Title for the age confirmation modal for Italian users"},ageRequirementsButton:{id:"existingUserAgeConfirmationModal.ageRequirementsButton",defaultMessage:"I meet OpenAI's age requirements",description:"Primary button to confirm the user meets the age requirements"},logoutButton:{id:"existingUserAgeConfirmationModal.logoutButton",defaultMessage:"Log out",description:"Secondary button to log out of the platform"},announcementParagraph1:{id:"existingUserAgeConfirmationModal.announcementParagraph1",defaultMessage:"We’re pleased to resume offering ChatGPT in Italy. To continue on ChatGPT, please confirm that you are 18+ or are 13+ and have consent from your parent or guardian to use ChatGPT.",description:"First paragraph of the announcement, explaining the age requirements"},privacyPolicyLink:{id:"existingUserAgeConfirmationModal.privacyPolicyLink",defaultMessage:"Privacy policy",description:"Link to the privacy policy"},helpCenterArticleLink:{id:"existingUserAgeConfirmationModal.helpCenterArticleLink",defaultMessage:"this help center article",description:"Link to the help center article about ChatGPT development"},announcementParagraph2:{id:"existingUserAgeConfirmationModal.announcementParagraph2",defaultMessage:"For information about how we collect and use personal data, please see our {privacyPolicyLink}. For information about how we develop and train ChatGPT, please see {helpCenterArticleLink}.",description:"Second paragraph of the announcement, providing links to more information"}}),ea="2023-04-25",en="".concat("oai/apps/hasSeenAgeConfirmationModal","/").concat(ea);function eo(e){var t=e.onClose,a=(0,b.Z)(),n=(0,c.useCallback)(function(){h.m.setItem(en,!0),t()},[t]);return(0,c.useEffect)(function(){V.o.logEvent(ee.a.ageConfirmationModal,{content:ea})},[]),(0,s.jsx)(P.Z,{isOpen:!0,onClose:v.noop,type:"success",title:a.formatMessage(et.welcomeBack),primaryButton:(0,s.jsx)(A.ZP.Button,{title:a.formatMessage(et.ageRequirementsButton),color:"primary",onClick:n}),secondaryButton:(0,s.jsx)(A.ZP.Button,{title:a.formatMessage(et.logoutButton),color:"light",onClick:function(){V.o.logEvent(ee.a.clickLogOut,{eventSource:"mouse"}),(0,R.w7)()},className:"border-gray-800 hover:border-gray-700"}),children:(0,s.jsx)(er,{})})}var er=function(){var e=(0,b.Z)();return(0,s.jsx)("div",{className:"mb-6 mt-4 sm:mt-6",children:(0,s.jsxs)("div",{className:"prose prose-invert text-base text-gray-500",children:[(0,s.jsx)("p",{children:(0,s.jsx)(S.Z,(0,C._)({},et.announcementParagraph1))}),(0,s.jsx)("p",{children:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},et.announcementParagraph2),{values:{privacyPolicyLink:(0,s.jsx)("a",{href:"https://openai.com/policies/privacy-policy",target:"_blank",className:"text-gray-500 underline",rel:"noreferrer",children:e.formatMessage(et.privacyPolicyLink)}),helpCenterArticleLink:(0,s.jsx)("a",{href:"https://help.openai.com/en/articles/7842364-how-chatgpt-and-our-language-models-are-developed",target:"_blank",className:"text-gray-500 underline",rel:"noreferrer",children:e.formatMessage(et.helpCenterArticleLink)})}}))})]})})},es=a(77311),ei="oai/apps/hasSeenOnboarding";(n=o||(o={})).Personal="chat",n.Workspace="workspace";var ec=function(e){var t=(0,c.useCallback)(function(){h.m.setItem("".concat(ei,"/").concat(e),new Date().toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}))},[e]),a=(0,r._)((0,c.useState)(null),2),n=a[0],o=a[1];(0,c.useEffect)(function(){var t=h.m.getItem("".concat(ei,"/").concat(e));o(!!t&&t)},[e]);var s=(0,c.useCallback)(function(){return n?new Date(!0===n?"2022-12-14":n):n},[n]);return(0,c.useMemo)(function(){return{setHasSeenOnboarding:t,getHasSeenOnboardingDate:s}},[s,t])};function el(e){var t=e.onClose,a=e.scope,n=ec(a).setHasSeenOnboarding,r=(0,c.useCallback)(function(){t(!0),n()},[t,n]);return a===o.Personal?(0,s.jsx)(eu,{onSubmit:r}):(0,s.jsx)(eg,{onSubmit:r})}var ed=function(e){var t=e.icon,a=e.title,n=e.body;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{className:"font-medium text-token-text-primary",children:a})]}),(0,s.jsx)("div",{className:"text-sm text-token-text-secondary",children:n})]})},eu=function(e){var t=e.onSubmit,a=(0,b.Z)();return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)(ed,{icon:(0,s.jsx)(q.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.askAway)),body:(0,s.jsx)(S.Z,(0,C._)({},eh.askAwayBody))}),(0,s.jsx)(ed,{icon:(0,s.jsx)(q.NJ,{className:"text-brand-purple"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.warning)),body:(0,s.jsx)(S.Z,(0,M._)((0,C._)({},eh.warningBody),{values:{article:function(e){return(0,s.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}}))}),(0,s.jsx)(ed,{icon:(0,s.jsx)(q.CJ,{className:"text-orange-300"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.accuracy)),body:(0,s.jsx)(S.Z,(0,C._)({},eh.accuracyBody))}),(0,s.jsx)("div",{className:"flex flex-row justify-end",children:(0,s.jsx)(A.mH,{title:a.formatMessage(eh.gettingStartedButton),onClick:t,color:"primary"})})]})},eg=function(e){var t=e.onSubmit,a=(0,b.Z)(),n=(0,y.ec)(function(e){return e.currentWorkspace}),o=null==n?void 0:n.name;return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-token-text-primary",children:null!=o?(0,s.jsx)(S.Z,(0,C._)({values:{workspaceName:o}},eh.workspaceWelcome)):(0,s.jsx)(S.Z,(0,C._)({},eh.workspaceWelcomeNoName))}),(0,s.jsx)("div",{className:"text-sm text-token-text-secondary",children:(0,s.jsx)(S.Z,(0,C._)({},eh.workspaceWelcomeBody))})]}),(0,s.jsx)(ed,{icon:(0,s.jsx)(q.ZP,{icon:es.Z,className:"h-5 w-5 text-brand-purple"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.workUse)),body:(0,s.jsx)(S.Z,(0,C._)({},eh.workUseBody))}),(0,s.jsx)(ed,{icon:(0,s.jsx)(q.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.askAway)),body:(0,s.jsx)(S.Z,(0,C._)({},eh.askAwayBody))}),(0,s.jsx)(ed,{icon:(0,s.jsx)(q.CJ,{className:"text-orange-300"}),title:(0,s.jsx)(S.Z,(0,C._)({},eh.accuracy)),body:(0,s.jsx)(S.Z,(0,C._)({},eh.accuracyBody))}),(0,s.jsx)("div",{className:"flex flex-row justify-end",children:(0,s.jsx)(A.mH,{title:a.formatMessage(eh.gettingStartedButton),onClick:t,color:"primary"})})]})},eh=(0,k.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away",description:"Title for the tip about what ChatGPT can do"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more.",description:"Body copy for the tip about what ChatGPT can do"},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info",description:"Title for the warning about ChatGPT traning"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>.",description:"Body copy for the warning about ChatGPT traning"},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts",description:"Title for the warning about ChatGPT inaccuracy"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice.",description:"Body copy for the warning about ChatGPT inaccuracy"},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go",description:"Button to accept the getting started modal"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace",description:"Introduction welcome for workspace onboarding"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace",description:"Introduction welcome for workspace onboarding when no Workspace name is available"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits.",description:"Introduction welcome body for workspace onboarding"},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work",description:"Title for the warning about ChatGPT business workspace use"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models.",description:"Body copy for the warning about ChatGPT business workspace use"}}),ef=function(e){var t=e.onClose,a=(0,b.Z)();return(0,s.jsx)(P.Z,{isOpen:!0,onClose:v.noop,type:"success",title:"ChatGPT",description:a.formatMessage(ex.personalOnboardingSubheading),children:(0,s.jsx)(el,{onClose:t,scope:o.Personal})})},ep=function(e){var t=e.onClose;return(0,s.jsx)(P.Z,{isOpen:!0,onClose:v.noop,type:"success",title:"ChatGPT",description:"Enterprise Edition",children:(0,s.jsx)(el,{onClose:t,scope:o.Workspace})})};function em(e){var t,a,n=e.userCountry,i=(0,r._)((0,c.useState)(0),2),l=i[0],d=i[1],u=ec(o.Personal).getHasSeenOnboardingDate,g=ec(o.Workspace).getHasSeenOnboardingDate,f=(0,y.ec)(y.F_.isBusinessWorkspace),p=(t=(0,y.hz)(),a=!!h.m.getItem(en),0===t.size?"loading":"IT"!==n||a?"hide":"show"),m=(0,y.$T)(),x=(0,w.Go)(),v=(0,y.ec)(y.F_.workspaceId),b=(0,y.ec)(y.F_.hasMultipleWorkspaces)&&null==v,k=(0,c.useMemo)(function(){return[{Modal:$,getModalState:function(){return m?"loading":b?"show":"hide"}},{Modal:Z,getModalState:function(){return m?"loading":null!==x?"show":"hide"}},{Modal:eo,getModalState:function(){return p}},{Modal:ef,getModalState:function(){if(f)return"hide";var e=u();return null===e?"loading":!1===e?"show":"hide"}},{Modal:ep,getModalState:function(){if(!f)return"hide";var e=g();return null===e?"loading":!1===e?"show":"hide"}}]},[u,g,f,p,m,x,b]);(0,c.useEffect)(function(){k[l]&&"hide"===k[l].getModalState()&&d(k.findIndex(function(e){return"hide"!==e.getModalState()}))},[l,k]);var j=k[l];if(null==j)return null;var C=j.getModalState();if("loading"===C)return null;"hide"===C&&d(function(e){return e+1});var M=k[l].Modal;return(0,s.jsx)(M,{onClose:function(){d(function(e){return e+1})}})}var ex=(0,k.vU)({personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started",description:"Subheading for the Personal onbaording modal"}}),ey=a(67273),ev=a(6780),eb=a(10664),ek=function(e){var t=e.action;return(0,s.jsxs)("div",{className:"flex items-center justify-between overflow-hidden text-gray-600 dark:text-gray-300",children:[(0,s.jsx)("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:(0,s.jsx)("div",{className:"truncate",children:(0,s.jsx)(S.Z,(0,C._)({},t.actionMessageDescriptor))})}),(0,s.jsx)("div",{className:"ml-3 flex flex-row gap-2",children:(0,eb.A3)(t.keyboardBinding).map(function(e,a){return(0,s.jsx)(ew,{keyName:e},"".concat(t.key,"-").concat(a))})})]})},ew=function(e){var t=e.keyName,a=(0,W.default)("my-2 flex h-8 items-center justify-center rounded-[4px] border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300");return t.length>1?t.length>3?(0,s.jsx)("div",{className:(0,W.default)(a,"min-w-[50px]"),children:(0,s.jsx)("span",{className:"text-xs",children:t})}):(0,s.jsx)("div",{className:(0,W.default)(a,"min-w-[32px]"),children:(0,s.jsx)("span",{className:"text-xs",children:t})}):(0,s.jsx)("div",{className:(0,W.default)(a,"min-w-[32px]"),children:(0,s.jsx)("span",{className:"text-sm",children:t})})},ej=(0,k.vU)({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts",description:"Title of the keyboard shortcuts modal"}}),eC=function(){var e=(0,b.Z)(),t=(0,m.tN)(function(e){return e.activeModals.has(m.B.KeyboardActions)}),a=function(){m.vm.closeModal(m.B.KeyboardActions)},n=(0,eb.JS)(),o=(0,c.useMemo)(function(){var e=Math.ceil(n.length/2);return[n.slice(0,e),n.slice(e)]},[n]);return(0,s.jsx)(P.Z,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",closeButton:(0,s.jsx)(A.ZP.CloseButton,{onClose:a}),title:e.formatMessage(ej.keyboardActionsModalTitle),children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:o.map(function(e,t){return(0,s.jsx)("div",{className:"flex flex-col overflow-hidden",children:e.map(function(e){return(0,s.jsx)(ek,{action:e},e.key)})},"col-".concat(t))})})})})},eM=a(15610),eT=Symbol("invalid path");function eN(e){var t,a=e.split(/[#?]/)[0];if("/"!==a){var n=/\/c\/([a-f0-9-]+)/.exec(a);return null!==(t=null==n?void 0:n[1])&&void 0!==t?t:eT}}function eB(e){var t=e.urlThreadId,a=e.clientThreadId,n=e.isUserInCanPayGroup,o=e.serviceStatus,v=e.serviceAnnouncement,b=e.userCountry,k=(0,r._)((0,c.useState)(function(){return void 0!==t?t:void 0!==a?a:(0,p.OX)()}),2),w=k[0],j=k[1];void 0!==t&&w!==t&&j(t),void 0!==t||(0,p.Zz)(w)||j((0,p.OX)());var C=(0,y.$T)(),M=(0,y.WY)(),T=(0,y.ec)(y.F_.workspaceId),N=(0,d.g)(function(e){return e.updateFlagValue}),B=(0,y.hz)(),_=B.has(f.PL),S=B.has(f.rX);(0,c.useEffect)(function(){_&&(g.Z.setPrefetchEnabled(S),g.Z.gatherData())},[_,S]),(0,c.useEffect)(function(){void 0!==n&&N("isUserInCanPayGroup",n)},[N,n]),(0,c.useEffect)(function(){(null==o?void 0:o.type)&&!1===M&&l.m.warning(o.message,{hasCloseButton:!0,duration:5})},[M,null==o?void 0:o.message,null==o?void 0:o.type]);var A=(0,c.useRef)(!1);(0,c.useEffect)(function(){if(!C){var e=M?v.paid:v.public;if((null==e?void 0:e.type)&&(null==e?void 0:e.message)&&!A.current){A.current=!0;var t=e.message,a={hasCloseButton:!0,duration:15};switch(e.type){case"danger":l.m.danger(t,a);break;case"info":l.m.info(t,a);break;case"warning":l.m.warning(t,a)}}}},[v,C,M]);var P=(0,m.tN)(function(e){return e.activeModals.has(m.B.TempBrowseToast)});return(0,s.jsxs)(u.gB.Provider,{value:null,children:[(0,s.jsx)(em,{userCountry:b},T),(0,s.jsx)(eC,{}),(0,s.jsx)(ev.Z,{clientThreadId:w,setClientThreadId:j}),(0,s.jsxs)(i.zt,{children:[(0,s.jsxs)(i.fC,{className:"grid max-w-sm grid-cols-[auto_max-content] items-center gap-x-[15px] rounded-lg bg-white p-[15px] shadow-xs [grid-template-areas:_'title_action'_'description_action'] radix-state-closed:animate-hide radix-state-open:animate-slideIn dark:bg-gray-950 md:max-w-[390px]",open:P,children:[(0,s.jsxs)(i.Dx,{className:"text-slate12 mb-[5px] text-[15px] font-medium [grid-area:_title]",children:["We've temporarily disabled the Browse with Bing ",(0,eM.V)("beta")," feature"]}),(0,s.jsxs)(i.dk,{className:"text-slate11 m-0 text-[13px] leading-[1.3] [grid-area:_description]",children:["Read the"," ",(0,s.jsx)("a",{href:"https://help.openai.com/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:"Help Center article"}),"."]}),(0,s.jsx)(i.aU,{altText:"Dismiss notification",asChild:!0,children:(0,s.jsx)(ey.z,{color:"neutral",size:"small",onClick:function(){m.vm.closeModal(m.B.TempBrowseToast),h.m.setItem(x.DN,"true")},children:"Dismiss"})}),(0,s.jsx)(i.x8,{})]}),(0,s.jsx)(i.l_,{className:"z-100 fixed bottom-0 right-0 m-0 flex  max-w-[100vw] list-none flex-col gap-[10px] p-[var(--viewport-padding)] outline-none [--viewport-padding:_25px]"})]})]})}},6780:function(e,t,a){a.d(t,{Z:function(){return A}});var n=a(39324),o=a(35250),r=a(13995),s=a(60554),i=a(70079),c=a(1454),l=a(32004),d=a(94968),u=a(52390),g=a(31621),h=a(46020),f=a(78931),p=a(32542),m=a(10664),x=a(33669),y=a(2166),v=a(41932),b=a(61402),k=a(80267),w=a(88327),j=a(95782),C=a(82816),M=a(70293),T=a(82277),N=a(13090),B=a(16423),_=a(2295),S=a(42569);function A(e){var t=e.clientThreadId,a=e.setClientThreadId,n=e.initiallyHighlightedMessageId,l=e.continueConversationUrl,d=null!==(0,i.useContext)(p.gB);(0,g.ax)(t);var y=(0,g.XK)(t),v=(0,s.useRouter)(),A=(0,f.hz)(),Z=(0,g.UL)(t),I=(0,i.useContext)(p.QL).historyDisabled,E=(0,S.Xy)(Z.lastModelUsed,t),W=(0,r.NL)();(0,i.useEffect)(function(){return g.tQ.retainThread(t),function(){setTimeout(function(){W.invalidateQueries(["conversation",t])},0),g.tQ.releaseThread(t)}},[t,W]),(0,i.useEffect)(function(){h.vm.closeSharingModal()},[t,y]);var L=(0,i.useCallback)(function(){a((0,g.OX)()),v.replace(E.tags.includes(S.S.GPT_4)?"/":"/?model=".concat(E.id),void 0,{shallow:!0})},[a,E.tags,E.id,v]);(0,m.yx)({resetThreadAction:L,clientThreadId:t});var D=(0,h.tN)(function(e){return e.activeSidebar}),U=(0,x.w$)();(0,i.useEffect)(function(){return function(){b.hx.abortAllRequests()}},[t]);var O=(0,_.iF)(),R=(0,i.useCallback)(function(){u.ZP.deleteConversations().then(function(){O()}),L(),"/"!==v.asPath&&v.replace({pathname:"/"},void 0,{shallow:!0})},[L,O,v]),G=(0,i.useRef)(Z.threadId);return(0,i.useEffect)(function(){Z.threadId!==G.current&&(h.vm.setActiveSidebar(!1),G.current=Z.threadId),b.hx.clear()},[Z.threadId]),(0,o.jsxs)(T.Z,{showNavigation:!d,renderTitle:(0,o.jsx)(P,{clientThreadId:t}),renderMobileHeaderRightContent:(0,o.jsx)(N.js,{onClick:L,children:(0,o.jsx)(w.ZP,{icon:I?c.Bw1:c.OvN,size:"medium"})}),renderSidebar:(0,o.jsx)(j.Z,{onDeleteHistory:R,onNewThread:L,children:(0,o.jsx)(k.Z,{activeId:I?void 0:y,onNewThread:L})}),children:[(0,o.jsx)(B.Z,{initialThreadData:Z,clientThreadId:t,handleResetThread:L,initiallyHighlightedMessageId:n,continueConversationUrl:l},t),(0,o.jsxs)(T.Z.Sidebars,{children:[A.has("debug")&&"debug"===D&&(0,o.jsx)(M.fv,{clientThreadId:t,slideOver:!U,onClose:function(){return h.vm.toggleActiveSidebar("debug")},isOpen:!0}),A.has("tools3_dev")&&(0,o.jsx)(C.ZP,{slideOver:!U})]})]})}function P(e){var t,a=e.clientThreadId,r=null!==(t=g.tQ.getTitle(a))&&void 0!==t?t:"New chat",s=(0,y.Z)(a,r,!0),d=s.resolvedTitle,u=s.isTypingEffect,h=(0,i.useContext)(p.QL),f=h.historyDisabled,m=h.toggleHistoryDisabled;return(0,o.jsx)(o.Fragment,{children:f?(0,o.jsxs)("button",{className:"flex cursor-pointer flex-row place-items-center items-center justify-center gap-3",onClick:function(){return m()},children:[(0,o.jsx)(w.ZP,{icon:c.$IY}),(0,o.jsx)(l.Z,(0,n._)({},Z.enableChatHistory))]}):u&&null!=d?(0,o.jsx)(v.Z,{text:d}):null!=d?d:(0,o.jsx)(l.Z,(0,n._)({},Z.newChat))})}var Z=(0,d.vU)({enableChatHistory:{id:"navigation.enableChatHistory",defaultMessage:"Enable chat history",description:"Enable chat history button label"},newChat:{id:"navigation.newChat",defaultMessage:"New chat",description:"New chat header title"}})},10664:function(e,t,a){a.d(t,{A3:function(){return S},yx:function(){return E},JS:function(){return I}});var n,o,r,s=a(96237),i=a(39324),c=a(81949),l=a(15858),d=a(61888),u=a(70079),g=a(94968),h=a(11084),f=a(82534),p=a(50795),m=a(82081),x=a(95954),y=a(39912),v=a(88798),b=a(32877),k=a(31621),w=a(46020),j=a(78931),C=a(52787),M=a(45248),T=u.useLayoutEffect,N=RegExp("```.*?\\n([\\s\\S]+?)\\n?```[^`]*$","gms");(n=o||(o={})).Core="Core",n.Chat="Chat",n.Settings="Settings";var B=(0,i._)({Mod:"mod",Comma:","},l.s),_=(r={},(0,s._)(r,B.Mod,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl"),(0,s._)(r,B.Comma,","),(0,s._)(r,B.Enter,"⏎"),(0,s._)(r,B.Escape,"Esc"),(0,s._)(r,B.ArrowUp,"↑"),(0,s._)(r,B.ArrowDown,"↓"),(0,s._)(r,B.ArrowLeft,"←"),(0,s._)(r,B.ArrowRight,"→"),(0,s._)(r,B.Backspace,"⌫"),(0,s._)(r,B.Delete,"⌦"),(0,s._)(r,B.Tab,"⇥"),(0,s._)(r,B.Control,"Ctrl"),(0,s._)(r,B.Shift,"Shift"),r),S=function(e){var t;return e.map(function(e){return null!==(t=_[e])&&void 0!==t?t:e})},A=(0,g.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat",description:"Keyboard shortcut to open a new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input",description:"Keyboard shortcut to focus the chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block",description:"Keyboard shortcut to copy the last code block in the chat"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response",description:"Keyboard shortcut to copy the last response in the chat"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions",description:"Keyboard shortcut to toggle custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar",description:"Keyboard shortcut to toggle navigation"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat",description:"Keyboard shortcut to delete chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts",description:"Keyboard shortcut to toggle keyboard actions"}}),P=function(e){var t=e.resetThreadAction,a=e.clientThreadId,n=e.features;return[{key:"newChat",action:t||d.noop,actionMessageDescriptor:A.newChat,group:o.Core,keyboardBinding:[B.Mod,B.Shift,"o"]},{key:"focusPromptTextarea",action:y.g,actionMessageDescriptor:A.focusPromptTextarea,group:o.Chat,keyboardBinding:[B.Shift,B.Escape]},{key:"copyLastCodeBlock",action:function(){if(null!=a)for(var e=k.tQ.getThreadCurrentLeafId(a),t=k.tQ.getThreadConversationTurns(a,e),n=t.length-1;n>=0;n--){var o=t[n].messages.reduce(function(e,t){return null==t.err&&t.message.author.role===x.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,C.RR)(t.message):e},""),r=(0,c._)(o.matchAll(N)),s=r.length?r[r.length-1][1]:null;if(null!=s){(0,h.S)(s).then(function(){v.m.success("Copied code block to clipboard")});break}}},actionMessageDescriptor:A.copyLastCodeBlock,group:o.Chat,keyboardBinding:[B.Mod,B.Shift,";"],altKeyboardBindings:[[B.Mod,B.Shift,":"]]},{key:"copyLastResponse",action:function(){null!=a&&k.tQ.copyLastMessageToClipboard(a,"keyboard").then(function(){v.m.success("Last response copied to clipboard")})},actionMessageDescriptor:A.copyLastResponse,group:o.Chat,keyboardBinding:[B.Mod,B.Shift,"c"]},{key:"toggleCustomInstructions",action:function(){return w.vm.toggleModal(w.B.UserContext)},actionMessageDescriptor:A.toggleCustomInstructions,group:o.Settings,keyboardBinding:[B.Mod,B.Shift,"i"],enabled:n.has(b.Rw)||n.has(b.uo)},{key:"navigationToggle",action:function(){return w.vm.toggleDesktopNavCollapsed()},actionMessageDescriptor:A.navigationToggle,group:o.Core,keyboardBinding:[B.Mod,B.Shift,"s"]},{key:"deleteChat",action:function(){return w.vm.toggleModal(w.B.DeleteChatConfirmation)},actionMessageDescriptor:A.deleteChat,group:o.Chat,keyboardBinding:[B.Mod,B.Shift,B.Backspace],altKeyboardBindings:[[B.Mod,B.Shift,B.Delete]]},{key:"toggleKeyboardActions",action:function(){return w.vm.toggleModal(w.B.KeyboardActions)},actionMessageDescriptor:A.toggleKeyboardActions,group:o.Settings,keyboardBinding:[B.Mod,"/"]}]},Z=function(e){var t,a,n,o=(0,j.hz)().has(b.rk);return t=function(e){p.o.logEvent(m.a.keyboardShortcut,{keyboardActionKey:e.key}),f.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},a={enabled:o},n=e.map(function(e){var t=e.keyboardBinding.join("+");if(e.altKeyboardBindings){t=[t];var a=e.altKeyboardBindings.map(function(e){return e.join("+")});t=t.concat(a)}return(0,M.ZP)(t,{byKey:!0})}),void T(function(){if((null==a?void 0:a.enabled)!==!1){var o=function(a){if(!a.repeat)for(var o=0;o<n.length;o++)n[o](a)&&(void 0===e[o].enabled||e[o].enabled)&&(a.preventDefault(),t(e[o]),e[o].action())},r=function(e){void 0!==e.key&&o(e)},s=document;return s.addEventListener("keydown",r),function(){s.removeEventListener("keydown",r)}}},[e,a])},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetThreadAction,a=e.clientThreadId,n=(0,j.hz)();return(0,u.useMemo)(function(){return P({features:n,resetThreadAction:t,clientThreadId:a}).filter(function(e){var t=e.enabled;return void 0===t||t})},[a,n,t])},E=function(e){Z(I({resetThreadAction:e.resetThreadAction,clientThreadId:e.clientThreadId}))}}}]);